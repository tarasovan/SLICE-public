define ("qtype_kekule_chem_base/extraWidgets",["kekule","local_kekulejs/kekuleMoodle"],function(){function a(){if("undefined"==typeof KekuleMoodle)KekuleMoodle={};if(!KekuleMoodle.Widget)KekuleMoodle.Widget={};KekuleMoodle.Widget.ChemObjSelectorPanel=Class.create(Kekule.Widget.Panel,{CLASS_NAME:"KekuleMoodle.Widget.ChemObjSelectorPanel",initialize:function initialize(a,b,c){this.tryApplySuper("initialize",[a]);this._renderConfigs=this._generateDefaultRenderConfigs();var d=new Kekule.ChemWidget.ViewerGrid(this,b,c);d.setEnableAdd(!1).setEnableRemove(!1);this.setPropStoreFieldValue("viewerGrid",d);this.on("click",this.reactCellClick.bind(this))},initProperties:function initProperties(){this.defineProp("objects",{dataType:DataType.ARRAY,serializable:!1,setter:function setter(a){this.setPropStoreFieldValue("objects",a||[]);this.objectsChanged()}});this.defineProp("viewerGrid",{dataType:DataType.OBJECT,serializable:!1,setter:null})},doFinalize:function doFinalize(){this.getViewerGrid().finalize();this.tryApplySuper("doFinalize")},doGetWidgetClassName:function doGetWidgetClassName(){return this.tryApplySuper("doGetWidgetClassName")+" KM-ChemObjSelectorPanel"},_generateDefaultRenderConfigs:function _generateDefaultRenderConfigs(){var a=new Kekule.Render.Render2DConfigs;a.getLengthConfigs().setAutofitContextPadding(10);return a},objectsChanged:function objectsChanged(){var a=this.getObjects(),b=this.getViewerGrid();b.clearWidgets();for(var c=0,d=a.length;c<d;++c){b.addChemObj(a[c])}for(var e=b.getChildWidgets(),c=0,d=e.length;c<d;++c){e[c].beginUpdate();e[c].setAutoShrink(!0);e[c].setRenderConfigs(this._renderConfigs);e[c].setPadding(this._renderConfigs.getLengthConfigs().getAutofitContextPadding());e[c].endUpdate()}},_getTargetViewer:function _getTargetViewer(a){if(a instanceof Kekule.ChemWidget.Viewer&&a.getParent()===this.getViewerGrid()){return a}else{var b=a.getParent();return b?this._getTargetViewer(b):null}},reactCellClick:function reactCellClick(a){var b=this._getTargetViewer(a.target);if(b){this.invokeEvent("select",{viewer:b,chemObj:b.getChemObj()})}}})}return{init:function init(){Kekule._ready(a)}}});
//# sourceMappingURL=extraWidgets.min.js.map
