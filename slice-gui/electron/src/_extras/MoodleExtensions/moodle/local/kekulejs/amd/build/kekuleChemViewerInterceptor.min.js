define ("local_kekulejs/kekuleChemViewerInterceptor",["kekule"],function(){function a(){if("undefined"==typeof Kekule)return;var a={matchPage:function matchPage(a){var b=a.location.pathname.toLowerCase(),c=b.match(/quiz\/report.php/);return!!c},getTargetElements:function getTargetElements(a){return a.body.querySelectorAll("td[id^=\"mod-quiz-report-statistics-question-table\"]")},handleElement:function handleElement(a){var b=Kekule.DomUtils.getChildNodesOfTypes(a,Node.TEXT_NODE);if(1===b.length&&!Kekule.DomUtils.getChildNodesOfTypes(a,Node.ELEMENT_NODE).length){var c=(b[0].nodeValue||"").trim();if(0===c.indexOf("{")&&c.lastIndexOf("}")===c.length-1){try{var d=JSON.parse(c);if(d&&d.molData){var e=Kekule.IO.loadFormatData(d.molData,Kekule.IO.DataFormat.KEKULE_JSON);if(e){Kekule.DomUtils.clearChildContent(a);var f=new Kekule.ChemWidget.Viewer2D(a.ownerDocument);f.setPredefinedSetting("basic");f.appendToElem(a);f.load(e)}}}catch(a){}}}},execute:function execute(b){if(!b)b=document;if(a.matchPage(b)){var c=a.getTargetElements(b);if(c){for(var d=c.length-1;0<=d;--d){a.handleElement(c[d])}}}}};Kekule.X.domReady(a.execute)}return{init:function init(){Kekule._ready(a)}}});
//# sourceMappingURL=kekuleChemViewerInterceptor.min.js.map
