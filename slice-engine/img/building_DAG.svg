<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="-8 -3 797 564" width="797pt" height="47pc"><metadata xmlns:dc="http://purl.org/dc/elements/1.1/"><dc:date>2009-11-21 20:59Z</dc:date><!-- Produced by OmniGraffle Professional 5.2.1 --></metadata><defs><filter id="Shadow" filterUnits="userSpaceOnUse"><feGaussianBlur in="SourceAlpha" result="blur" stdDeviation="3.488"/><feOffset in="blur" result="offset" dx="0" dy="4"/><feFlood flood-color="black" flood-opacity=".75" result="flood"/><feComposite in="flood" in2="offset" operator="in"/></filter><font-face font-family="Helvetica" font-size="12" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="522.94922" cap-height="717.28516" ascent="770.01953" descent="-229.98047" font-weight="500"><font-face-src><font-face-name name="Helvetica"/></font-face-src></font-face></defs><g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"><title>Canvas 1</title><rect fill="white" width="783" height="559"/><g><title>Layer 1</title><g><use xl:href="#id3_Graphic" filter="url(#Shadow)"/><use xl:href="#id4_Graphic" filter="url(#Shadow)"/></g><g id="id3_Graphic"><rect x="12" y="13" width="493" height="236" fill="white"/><rect x="12" y="13" width="493" height="236" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(17 19)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="11" textLength="328.20117">buildLayer(ISignatureGraph graph, List&lt;Node&gt; previousLayer</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="327.54492" y="11" textLength="151.40039">, List&lt;Arc&gt; usedArcs, int h) {</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="25" textLength="95.70117">    if (h &lt; 0) return;</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="39" textLength="169.76953">    List&lt;Node&gt; nextLayer = new </tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="169.11328" y="39" textLength="101.373047">ArrayList&lt;Node&gt;();</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="53" textLength="156.39258">    List&lt;Arc&gt; layerArcs = new </tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="155.73633" y="53" textLength="90.685547">ArrayList&lt;Arc&gt;();</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="67" textLength="190.10156">    for (Node node : previousLayer) {</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="81" textLength="89.378906">        ISignatureV</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="88.722656" y="81" textLength="135.07617">ertex vertex = graph.getV</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="223.14258" y="81" textLength="64.69922">ertex(node);</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="95" textLength="110.71289">        for (ISignatureV</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="110.05664" y="95" textLength="93.39258">ertex connectedV</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="202.79297" y="95" textLength="197.4375">ertex : graph.getConnected(vertex)) {</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="109" textLength="68.033203">            addV</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="67.376953" y="109" textLength="314.13867">ertex(graph, node, vertex, layerArcs, usedArcs, nextLayer);</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="123" textLength="30.679688">        }</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="137" textLength="17.34375">    }</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="151" textLength="79.365234">    if (nextLayer</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="78.708984" y="151" textLength="65.33789">.isEmpty()) {</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="165" textLength="75.375">        continue;</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="179" textLength="50.033203">    } else {</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="193" textLength="146.0625">        layers.add(nextLayer);</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="207" textLength="17.34375">    }</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="221" textLength="4.0078125">}</tspan></text></g><g id="id4_Graphic"><rect x="12" y="273" width="757" height="264" fill="white"/><rect x="12" y="273" width="757" height="264" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(17 279)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="11" textLength="309.54492">addNode(ISignatureGraph graph, Node node, ISignatureV</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="308.88867" y="11" textLength="419.51953">ertex vertex, List&lt;Arc&gt; layerArcs, List&lt;Arc&gt; usedArcs, List&lt;Node&gt; nextLayer) {</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="25" textLength="13.3359375">    </tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="12.6796875" y="25" textLength="77.027344">Arc arc = new </tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="89.05078" y="25" textLength="157.39453">Arc(node, new Node(vertex));</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="39" textLength="187.39453">    if (usedArcs.contains(arc) return;</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="53" textLength="150.421875">    Node existingNode = null;</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="67" textLength="196.76953">    for (Node otherNode : nextLayer) {</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="81" textLength="124.06055">        if (otherNode.getV</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="123.4043" y="81" textLength="99.36914">ertex() == vertex) {</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="95" textLength="182.43164">            existingNode = otherNode;</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="109" textLength="73.359375">            break;</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="123" textLength="30.679688">        }</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="137" textLength="17.34375">    }</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="151" textLength="146.74219">    if (existingNode == null) {</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="165" textLength="207.76172">        existingNode = new Node(vertex);</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="179" textLength="79.371094">        nextLayer</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="78.714844" y="179" textLength="104.05664">.add(existingNode);</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="193" textLength="17.34375">    }</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="207" textLength="171.43359">    node.addChild(existingNode);</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="221" textLength="179.44336">    existingNode.addParent(node);</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="235" textLength="114.697266">    layerArcs.add(arc);</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="249" textLength="4.0078125">}</tspan></text></g></g></g></svg>
